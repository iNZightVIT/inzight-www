.header
  margin: 0 auto
  padding: 1em 1em 0
  @include phone
    padding: 0.5em 1em

  border: solid 1px $header-border-color
    bottom-width: 4px

  .topnav
    background: $header-background-color
    color: $header-text-color

    height: $header-size + 2em
    padding: 0 1em

    @include display(flex)
    @include align-items(center)
    @include justify-content(space-between)

    @include touch
      @include flex-direction(column)
      height: auto

    .logo
      img
        height: 3em

    .nav-stack-wrap
      @include display(flex)
      @include justify-content(space-between)
      @include align-items(center)
      @include phone
        width: 100%

    .navstack
      display: none
      height: 30px
      width: 35px
      padding: 5px
      @include phone
        @include display(flex)
        @include flex-direction(column)
        @include align-items(stretch)
        @include justify-content(space-around)


      border: solid 1px $header-border-color
      @include border-top-radius(4px)
      @include border-bottom-radius(4px)

      &:hover
        cursor: pointer
        background: $header-border-color

      &.active
        background: $link-color

        .navstack-bar
          background: $header-border-color

      .navstack-bar
        display: block
        height: 2px
        background: $link-color


.topnav
  ul
    list-style-type: none
    @include display(flex)
    @include align-items(center)
    @include justify-content(space-between)
    margin: 0
    padding: 0

    //@include phone
    //  display: none

    li
      display: inline-block
      margin: 0 1em
      position: relative
      padding: 0.5em

      >a
        display: block
        text-decoration: none
        color: $link-color

      @include notphone
        &:hover
          cursor: pointer

          >a
            color: $hover-color

          ul
            @include display(flex)

      >ul
        display: none
        @include flex-direction(column)
        @include align-items(stretch)
        position: absolute
        left: 0
        top: 100%
        margin: 0
        padding: 0
        background: $header-background-color
        font-size: 0.8em
        width: 100px
        border: solid 1px $header-border-color

        @include transition(display 1.0s)

        li
          margin: 0
          padding: 0.5em

          &:hover
            background: $link-color

@include phone
  .topnav
    @include align-items(stretch)

    >ul
      width: 100%
      @include flex-direction(column)
      @include align-items(stretch)

      padding-top: 2em
      font-size: 1.2em

      >li
        padding: 1em

        &:hover
          color: $hover-color

      >li>ul
        position: static
        @include display(flex)
        @include flex-direction(column)
        @include align-items(stretch)
        border: none
        border-top: solid 3px $header-border-color
        border-bottom: solid 3px $header-border-color
        width: 100%

        margin-top: 1em

        >li
          display: block
          font-size: 1.2em
          padding: 1em 1em 1em 2em

          &:hover
            color: $hover-color

        display: none

    &.hideme
      >ul
        display: none
